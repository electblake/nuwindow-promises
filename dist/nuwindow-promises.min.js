!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.nuWindow=e()}(this,function(){var n=window._,e=function(e,t,o){var i={width:520,height:350};o=n.defaults(i,o);var r={left:screen.width/2-o.width/2,top:screen.height/2-o.height/2};o=n.extend(o,r);var c=[];o&&n.forIn(o,function(n,e){c.push(e+"="+n)});var d=c.join(", ");console.log("nuWindow optString",d);var f=window.open(t,e,d),u=new Promise(function(n,e){try{var t=setInterval(function(){(null==f||f.closed)&&(clearInterval(t),n(f))},1e3)}catch(o){e(o)}});return u};return e});